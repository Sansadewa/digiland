<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation - Gibran & Diyang</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Tailwind CSS for the success modal -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Preload the hero video -->
    <link rel="preload" as="video" href="video.m4v" type="video/mp4">

    <!-- Preload a key image (if needed) -->
    <link rel="preload" as="image" href="img1.jpg" imagesrcset="img1.jpg">

    <style>
        /* CSS Variables for easy theming */
        :root {
            /* Fonts */
            --font-serif: 'Playfair Display', serif;
            --font-sans: 'Montserrat', sans-serif;
    
            /* New Cheerful & Elegant Color Palette */
            --bg-light: #FFFCF7; /* A soft, warm off-white for a gentle and inviting base. */
            --bg-dark: #2C3E50; /* A deep, sophisticated navy blue for a touch of elegance in dark sections. */
            --text-dark: #3A3A3A; /* A rich, dark gray for crisp, readable text that's softer than pure black. */
            --text-light: #FDFDFD; /* A clean, bright white for text on dark backgrounds. */
            --primary-accent: #E8B4BC; /* A dusty rose for a romantic and cheerful primary highlight. */
            --secondary-accent: #D9A404; /* A warm, celebratory gold for special touches like icons and highlights. */
            
            /* Component & Section Specific Colors */
            --gradient-bg: linear-gradient(135deg, #FFFCF7 0%, #F8EAE3 100%); /* A subtle gradient from soft white to a hint of blush. */
            --border-color-light: #E0E0E0;
            --border-color-dark: #4A5C6E;
            --text-color-subtle-light: #7A7A7A;
            --text-color-subtle-dark: #B0B0B0;
            --hero-overlay-color: rgba(44, 62, 80, 0.4); /* Overlay matching the dark background for consistency. */
            --outro-overlay-color: rgba(44, 62, 80, 0.4);
            --couple-info-gradient: linear-gradient(to top, rgba(44, 62, 80, 0.85) 0%, rgba(44, 62, 80, 0) 100%);
            --wishes-form-bg: #34495E; /* A slightly lighter navy for the form card. */
            --wishes-card-bg: #34495E;
            --wishes-card-border: var(--primary-accent);
            --details-color: #FBF2EC;
    
            /* Font Sizes (Desktop Defaults) */
            --font-size-base: 1rem;
            --font-size-small: 0.9rem;
            --font-size-h1: 3rem;
            --font-size-h2: 2.5rem;
            --font-size-h3: 1.5rem;
            --font-size-hero-h1: 3rem;
            --font-size-hero-dear: 1.2rem;
            --font-size-hero-subtitle: 1rem;
            --font-size-gallery-names: 2.5rem;
            --font-size-outro-h2: 5rem;
            --font-size-outro-date: 1.2rem;
            --font-size-outro-thankyou: 1rem;
            --font-size-timeline-h2: 3.5rem;
            --font-size-timeline-content-h3: 1.5rem;
            --font-size-timeline-content-p: 1.1rem;
            --font-size-timeline-note: 0.85rem;
            --font-size-wishes-h2: 4rem;
            --font-size-wishes-p: 1rem;
            --font-size-wish-card-h4: 1rem;
            --font-size-wish-card-p: 0.95rem;
            --font-size-gift-h2: 2.5rem;
            --font-size-gift-modal-h3: 1.8rem;
            --font-size-gift-modal-p: 1rem;
            --font-size-intro-details: 1rem;
        }
    
        @media (max-width: 768px) {
            :root {
                --font-size-base: 0.95rem;
                --font-size-small: 0.85rem;
                --font-size-h1: 2.2rem;
                --font-size-h2: 1.7rem;
                --font-size-h3: 1.2rem;
                --font-size-hero-h1: 2.2rem;
                --font-size-hero-dear: 1rem;
                --font-size-hero-subtitle: 0.95rem;
                --font-size-gallery-names: 1.5rem;
                --font-size-outro-h2: 2.2rem;
                --font-size-outro-date: 1rem;
                --font-size-outro-thankyou: 0.95rem;
                --font-size-timeline-h2: 1.7rem;
                --font-size-timeline-content-h3: 1.1rem;
                --font-size-timeline-content-p: 0.95rem;
                --font-size-timeline-note: 0.8rem;
                --font-size-wishes-h2: 2rem;
                --font-size-wishes-p: 0.95rem;
                --font-size-wish-card-h4: 0.95rem;
                --font-size-wish-card-p: 0.9rem;
                --font-size-gift-h2: 1.3rem;
                --font-size-gift-modal-h3: 1.2rem;
                --font-size-gift-modal-p: 0.95rem;
                --font-size-intro-details: 1.1rem;
            }
        }
        @media (min-width: 1200px) and (orientation: landscape) {
            :root {
                --font-size-intro-details: 1.5rem;
            }
        }
    
        /* Basic Reset and Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    
        html {
            scroll-behavior: smooth;
        }
    
        body {
            font-family: var(--font-sans);
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
            overflow: hidden; /* Prevent scrolling initially */
            background: var(--gradient-bg);
            font-size: var(--font-size-base);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    
        /* --- Loading Screen --- */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-light);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            flex-direction: column;
            gap: 20px;
            transition: opacity 0.5s ease-out;
        }
        .heart-loader {
            font-size: 3rem;
            color: var(--text-dark);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    
        /* --- Uncover Screen --- */
        #uncover-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            display: flex;
        }
        .uncover-panel {
            width: 50%;
            height: 100%;
            background-size: cover;
            background-position: center;
            transition: transform 1.2s cubic-bezier(0.86, 0, 0.07, 1);
        }
        #uncover-left {
            background-image: url('img1.jpg');
        }
        #uncover-right {
            background-image: url('img2.jpg');
        }
        #uncover-screen.uncovered #uncover-left {
            transform: translateX(-100%);
        }
        #uncover-screen.uncovered #uncover-right {
            transform: translateX(100%);
        }
        .uncover-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            text-align: center;
            color: var(--text-light);
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
            transition: opacity 0.3s;
            opacity: 1;
        }
        .uncover-content.fading {
            opacity: 0;
        }
        .uncover-text h2 {
            font-size: 3rem;
            font-family: var(--font-serif);
        }
        .uncover-text p {
            font-size: 1.2rem;
        }
        #start-invitation-btn {
            background-color: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
        }
    
        /* Main Content Container */
        .container {
            width: 90%;
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 0;
            text-align: center;
        }
    
        h1, h2, h3 {
            font-family: var(--font-serif);
            font-weight: 700;
        }
    
        h1 {
            font-size: var(--font-size-h1);
        }
        h2 {
            font-size: var(--font-size-h2);
        }
        h3 {
            font-size: var(--font-size-h3);
        }
    
        p {
            margin-bottom: 1rem;
            font-size: var(--font-size-small);
        }
    
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease-out, transform 1s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
    
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--text-light);
            overflow: hidden;
        }
        .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            z-index: -2;
            /* The zoomIn animation is removed to allow parallax to control the transform */
        }
        .hero-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--hero-overlay-color);
            z-index: -1;
        }
        .hero-content {
            animation: fadeIn 2s ease-in-out;
            /* Added will-change for performance */
            will-change: transform;
        }
        @keyframes fadeIn {
            from { opacity: 0; } to { opacity: 1; }
        }
        .hero-content .dear { font-size: var(--font-size-hero-dear); font-weight: 300; }
        .hero-content h1 { font-size: var(--font-size-hero-h1); margin: 10px 0; letter-spacing: 2px; }
        .hero-content .subtitle { font-size: var(--font-size-hero-subtitle); margin-bottom: 30px; }
        .cta-button {
            display: inline-block;
            background-color: var(--text-dark);
            color: var(--text-light);
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-family: var(--font-sans);
            font-weight: 500;
            font-size: 0.9rem;
            transition: background-color 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .cta-button:hover {
            background-color: #555;
            transform: scale(1.05);
        }
        #intro{
            height:60vh;
        }
        .divider { width: 100px; height: 1px; background-color: var(--border-color-light); margin: 40px auto; }
        .intro-quote {
            font-style: italic;
            color: var(--text-color-subtle-light);
            max-width: 70vw;
            margin: 0 auto 30px auto;
            font-size: var(--font-size-intro-details);
        }
        .basmala {
            font-size: calc(var(--font-size-intro-details) * 2.5);
            margin: 20px 0;
        }
         .date, .location {
            font-size: var(--font-size-intro-details);
        }
        
        .preambule {
            font-size: var(--font-size-intro-details) *0.8;
        }
        /* --- Couple Profile Section --- */
        .couple-profile {
            width: 100vw;
            height: 100vh;
            margin: 0;
            max-width: 100vw;
            max-height: 100vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            clip-path: inset(30% 15% 30% 15% round 40px);
            transition: clip-path 1.2s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .couple-profile.visible {
            clip-path: inset(0% 0% 0% 0% round 0px);
        }
        .couple-profile-border {
            position: absolute;
            top: 30%;
            left: 15%;
            width: 70%;
            height: 40%;
            border: 2px solid rgba(255, 255, 255, 0.6);
            border-radius: 40px;
            box-shadow: 0 0 0 8px var(--bg-light);
            z-index: 1;
            transition: opacity 0.8s ease;
        }
        .couple-photo-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
        }
        .couple-photo-container img {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            border-radius: 0;
            transition: none;
            clip-path: none;
        }
        .couple-info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100vw;
            padding: 40px 20px 20px;
            color: var(--text-light);
            text-align: center;
            background: var(--couple-info-gradient);
            border-radius: 0;
            z-index: 3;
        }
        .couple-info h2 { font-size: var(--font-size-h2); }
        .couple-info .parents { font-size: var(--font-size-small); color: #eee; margin: 10px 0; }
        .instagram-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 18px;
            margin-top: 15px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            text-decoration: none;
            color: var(--text-light);
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        .instagram-link:hover { background-color: rgba(255, 255, 255, 0.2); }
        .instagram-link i { margin-right: 8px; }
    
        /* --- Event Details Section --- */
        .event-details h2 { font-size: var(--font-size-timeline-h2); letter-spacing: 2px; line-height: 1.2; }
        .event-details .date, .event-details .location { font-size: var(--font-size-timeline-content-p); margin: 10px 0 20px 0; }
        
        #details {background-color: var(--details-color); max-width: 100vw; padding: 5%; max-height: 100vh;}
        .action-buttons { display: flex; justify-content: center; gap: 15px; margin: 30px 0; }
        .action-button { background-color: transparent; color: var(--text-dark); border: 1px solid var(--text-dark); }
        .action-button:hover { background-color: var(--text-dark); color: var(--text-light); }
        .timeline { position: relative; max-width: 700px; margin: 60px auto; }
        .timeline::after { content: ''; position: absolute; width: 2px; background-color: var(--border-color-light); top: 0; bottom: 0; left: 50%; margin-left: -1px; transform-origin: top; }
        .timeline.visible::after { animation: drawLine 1s ease-out forwards; }
        @keyframes drawLine { from { transform: scaleY(0); } to { transform: scaleY(1); } }
        .timeline-item { padding: 10px 40px; position: relative; width: 50%; }
        .timeline-item.left { left: 0; text-align: right; }
        .timeline-item.right { left: 50%; text-align: left; }
        .timeline-content { padding: 20px 0; }
        .timeline-content h3 { font-size: var(--font-size-timeline-content-h3); }
        .timeline-content p { font-size: var(--font-size-timeline-content-p); font-weight: 500; }
        .timeline-note { max-width: 600px; margin: 40px auto 0 auto; font-size: var(--font-size-timeline-note); color: var(--text-color-subtle-light); }
        
        /* --- Parallax elements --- */
        .parallax-el {
            will-change: transform; /* Performance optimization */
        }

        /* --- Modal Base --- */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden; background-color: rgba(0, 0, 0, 0.7); animation: fadeIn 0.5s; }
        .modal-content { margin: auto; padding: 20px; width: 90%; max-width: 1200px; position: relative; text-align: center; }
        .close-button { position: fixed; top: 15px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; z-index: 1001; }
        .close-button:hover, .close-button:focus { color: #bbb; }
    
        /* --- RSVP Section --- */
        .dark-section { background-color: var(--bg-dark); color: var(--text-light); padding: 80px 0; }
        .dark-section h2 { font-size: var(--font-size-wishes-h2); letter-spacing: 3px; margin-bottom: 10px; }
        .dark-section p { color: var(--text-color-subtle-dark); margin-bottom: 40px; font-size: var(--font-size-wishes-p); }
    
        .form-card {
            background-color: var(--wishes-form-bg);
            padding: 30px;
            border-radius: 12px;
            max-width: 500px;
            margin: 0 auto;
            border: 1px solid var(--border-color-dark);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .form-group { margin-bottom: 25px; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-size: 1rem; color: #ddd; }
        .form-control { width: 100%; padding: 10px 0; background: transparent; border: none; border-bottom: 1px solid var(--text-color-subtle-light); color: var(--text-light); font-size: 1rem; font-family: var(--font-sans); }
        .form-control:focus { outline: none; border-bottom-color: var(--text-light); }
        select.form-control { appearance: none; -webkit-appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffffff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 0 top 50%; background-size: 10px auto; }
        select.form-control option { background-color: var(--bg-dark); }
        .submit-button { width: 100%; background-color: var(--text-light); color: var(--bg-dark); border: none; margin-top: 20px; }
        .submit-button:hover { background-color: #ddd; transform: none; color: var(--bg-dark); }
        
        /* --- Wishes Section --- */
        .wishes-outer-container {
            height: 500px;
            overflow-y: auto;
            border: none;
            padding: 20px 10px;
            background-color: transparent;
            position: relative;
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 40px, black calc(100% - 40px), transparent 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 40px, black calc(100% - 40px), transparent 100%);
        }
    
        .wishes-list {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        .wish-card {
            padding: 20px;
            border-radius: 12px;
            width: 65%;
            position: relative;
            background: var(--wishes-card-bg);
            border: 1px solid var(--border-color-dark);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .wish-card::after {
            content: '';
            position: absolute;
            top: 20px;
            width: 0;
            height: 0;
            border: 10px solid transparent;
        }
        .wish-card:nth-child(odd) {
            align-self: flex-start;
            border-left: 4px solid var(--wishes-card-border);
        }
        .wish-card:nth-child(odd)::after {
            right: -20px;
            border-left-color: var(--wishes-card-bg);
        }
        .wish-card:nth-child(even) {
            align-self: flex-end;
            text-align: left;
            border-right: 4px solid var(--wishes-card-border);
        }
        .wish-card:nth-child(even)::after {
            left: -20px;
            border-right-color: var(--wishes-card-bg);
        }
        .wish-card h4 {
            font-family: var(--font-sans);
            font-weight: 500;
            color: var(--primary-accent);
            margin-bottom: 8px;
            font-size: var(--font-size-wish-card-h4);
        }
        .wish-card p {
            color: #eee;
            font-size: var(--font-size-wish-card-p);
            margin-bottom: 0;
        }
        
        #audio-control-btn { position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px; background-color: rgba(0, 0, 0, 0.7); color: white; border: none; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; cursor: pointer; z-index: 20000; opacity: 0; transition: opacity 0.5s ease-in-out; }
        #audio-control-btn.visible { opacity: 1; }  
    
        /* --- Gifting Section --- */
        .gift-section h2 { font-size: var(--font-size-gift-h2); margin-bottom: 10px; }
        .gift-box { border: 1px solid var(--border-color-light); padding: 40px; max-width: 400px; margin: 30px auto; border-radius: 8px; }
        #giftModal .modal-content { max-width: 450px; background-color: var(--bg-light); color: var(--text-dark); border-radius: 8px; }
        #giftModal h3 { font-size: var(--font-size-gift-modal-h3); margin-bottom: 20px; }
        #giftModal p { font-size: var(--font-size-gift-modal-p); }
        .youtube-embed { margin-top: 50px; aspect-ratio: 16 / 9; width: 100%; border-radius: 8px; border: none; }
        
        /* --- Outro Section --- */
        .outro {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
            color: var(--text-light);
            padding: 0; /* Remove container padding */
        }
        .outro-text-content {
            position: relative;
            z-index: 3;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.6);
        }
        .outro-bg-image {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            pointer-events: none;
        }
        .outro-bg-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--outro-overlay-color);
            z-index: 2;
        }
        .outro h2 {
            font-size: var(--font-size-outro-h2);
            font-family: var(--font-serif);
            line-height: 1.1;
            margin: 1rem 0;
        }
        .outro-date {
            font-size: var(--font-size-outro-date);
            letter-spacing: 4px;
            font-weight: 300;
        }
        .outro-thankyou {
            font-size: var(--font-size-outro-thankyou);
            margin-top: 1rem;
        }
    
        footer { padding: 40px 0; text-align: center; font-size: 0.8rem; color: var(--text-color-subtle-light); }
        
        /* --- Gallery Section (Reworked for Mosaic Carousel) --- */
        .gallery-bg {
            background: var(--primary-accent);
            width: 100vw;
            max-width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0;
        }
        .gallery-bg::before, .gallery-bg::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100px;
            z-index: 2;
            pointer-events: none;
        }
        .gallery-bg::before {
            left: 0;
            background: linear-gradient(to right, var(--primary-accent), transparent);
        }
        .gallery-bg::after {
            right: 0;
            background: linear-gradient(to left, var(--primary-accent), transparent);
        }
        .gallery-bg .names {
            color: var(--text-light);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
            position: absolute;
            top: 2%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            width: 100%;
            text-align: center;
            font-size: var(--font-size-gallery-names);
        }
        .gallery-scroller {
            height: 80vh;
            animation: marquee 90s linear infinite; /* Faster animation */
            column-width: 220px; /* Reduced column width for smaller photos */
            column-gap: 20px;
        }
        @keyframes marquee {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }
        .gallery-item {
            display: inline-block;
            width: 100%;
            margin-bottom: 20px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            break-inside: avoid;
        }
        .gallery-item img {
            width: 100%;
            height: auto;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s ease;
            border-radius: 12px;
        }
        .gallery-item img:hover {
            transform: scale(1.05);
        }
        
        /* --- Lightbox Modal for Gallery --- */
        #lightbox-modal {
            display: none;
            position: fixed;
            z-index: 10001;
            padding-top: 60px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
            animation: fadeIn 0.3s;
        }
        .lightbox-content {
            margin: auto;
            display: block;
            width: auto;
            max-width: 85%;
            height: auto;
            max-height: 85vh;
        }
        #lightbox-modal .close-button {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }
        #lightbox-modal .close-button:hover,
        #lightbox-modal .close-button:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
    
    
        @media (max-width: 768px) {
            .container { padding: 60px 0; }
            .hero-content h1 { font-size: 2.5rem; }
            .couple-info h2 { font-size: 2rem; }
            .event-details h2 { font-size: 2.8rem; }
            .gallery-bg .names { font-size: 3.5rem; top: 40px; }
            .dark-section h2 { font-size: 3rem; }
            .timeline::after { left: 30px; }
            .timeline-item { width: 100%; padding-left: 70px; padding-right: 25px; }
            .timeline-item.left, .timeline-item.right { left: 0; text-align: left; }
            .outro h2 { font-size: 3.5rem; }
            .wish-card {
                width: 95%;
                align-self: center !important;
                text-align: left !important;
                border-right: none !important;
                border-left: 4px solid var(--wishes-card-border);
            }
            .wish-card::after {
                display: none;
            }
            .gallery-scroller {
                column-width: 180px;
            }
        }
    
        .animated-names {
            animation: namesFadeIn 2s ease-in-out;
            letter-spacing: 2px;
        }
        .heart {
            color: var(--secondary-accent);
            font-size: 1.2em;
            vertical-align: middle;
            animation: heartBeat 1.5s infinite;
        }
        @keyframes namesFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .couple-section {
            display: flex;
            flex-direction: column;
            gap: 0;
            align-items: stretch;
            width: 100vw;
            margin: 0;
            padding: 0;
        }
        @media (max-width: 768px) {
            .couple-section { gap: 20px; }
        }
        
        .names {
            line-height: 1.6 !important;
        }
    
        /* Couple Separator Divider */
        .couple-separator {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
            width: 100%;
            position: relative;
        }
        .couple-separator-line {
            flex: 1;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--primary-accent), transparent);
            margin: 0 18px;
            border-radius: 2px;
            opacity: 0.7;
            transform: scaleX(0);
            transform-origin: center;
            animation: separatorLineGrow 1.2s cubic-bezier(0.77,0,0.18,1) forwards;
        }
        .couple-separator-text {
            font-size: 2rem;
            font-family: var(--font-serif);
            font-weight: 700;
            color: var(--text-dark);
            letter-spacing: 2px;
            text-align: center;
            position: relative;
            z-index: 1;
            padding: 0 18px;
            margin-top: 10px;
        }
        @keyframes separatorLineGrow {
            from { transform: scaleX(0); }
            to { transform: scaleX(1); }
        }

      

        .date {
            background: none;
            color: #222;
            font-family: var(--font-serif, 'Playfair Display', serif);
            font-size: 2.2rem;
            text-align: left;
            margin: auto auto 0.5em auto;
            letter-spacing: 0.02em;
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 0.3em;
        }

        .date-day {
            font-style: italic;
            font-size: 1.1rem;
            margin-right: 0.2em;
        }

        .date-main {
            font-weight: bold;
            font-size: 2.2rem;
            margin-right: 0.2em;
        }

        .date-year {
            font-size: 1.1rem;
            font-style: normal;
            font-weight: 400;
        }
    </style>
</head>
<body>
    
    <!-- Loading Screen -->
    <div id="loader">
        <div class="heart-loader">❤️</div>
        <p>Loading...</p>
    </div>

    <!-- Uncover Screen -->
    <div id="uncover-screen">
        <div id="uncover-left" class="uncover-panel"></div>
        <div id="uncover-right" class="uncover-panel"></div>
        <div class="uncover-content">
            <div class="uncover-text">
                <p class="animated-names">Selamat Datang di</p>
                <h2 class="animated-names">D I G I L A N D</h2>
            </div>
            <button id="start-invitation-btn" class="cta-button" style="margin-top:10px">Yuk Masuk!</button>
        </div>
    </div>

    <!-- Audio Player -->
    <audio id="background-music" class="preload-asset" loop>
        <source src="salpriadi.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- This content is initially hidden and shown after the uncover animation -->
    <div id="page-wrapper" style="opacity:0; pointer-events:none; transition: opacity 1s;">
        <!-- Hero Section -->
        <section id="hero" class="hero">
            <video class="hero-video" autoplay loop muted playsinline>
                <source src="video.m4v" type="video/mp4" class="preload-asset">
            </video>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <p class="dear">The Wedding Of</p>
                <h1 class="animated-names">Gibran <span class="heart">♥</span> Diyang</h1>
                <a href="#intro" id="hero-scroll-btn" class="cta-button">View Details</a>
            </div>
        </section>

        <main id="main-content">
            <!-- Intro Section -->
            <section id="intro" class="container reveal">
                <p class="intro-quote">
                "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari (jenis) dirimu sendiri agar kamu merasa tenteram kepadanya. Dia menjadikan di antaramu rasa kasih dan sayang. Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir." 
                </p>
                <p class="intro-quote">Q.S. Ar Rum:21</p>
                <div class="divider"></div>
                <h3 class="basmala">بِسْمِ اللَّـهِ الرَّحْمَـٰنِ الرَّحِيمِ</h3>
                <p class="intro-quote">Maha Suci Allah SWT, yang telah mempersatukan kami,</p>
            </section>

            <!-- Couple Profiles -->
            <section class="couple-section">
                <div class="couple-profile reveal bride-profile">
                    <div class="couple-profile-border"></div>
                    <div class="couple-photo-container">
                        <img class="preload-asset" src="img1.jpg" alt="The Bride - Diyang" onerror="this.onerror=null;this.src='https://placehold.co/800x1200/E6D3B3/333333?text=Diyang';">
                    </div>
                    <div class="couple-info">
                        <h2>Diyang Gita Cendekia</h2>
                        <p class="parents">Binti <br> Fathul Arifin & Eka Rustika</p>
                        <a href="#" class="instagram-link"><i class="fab fa-instagram"></i> @diyangdyg</a>
                    </div>
                </div>
                <div class="couple-separator">
                    <div class="couple-separator-line"></div>
                    <span class="couple-separator-text">DENGAN</span>
                    <div class="couple-separator-line"></div>
                </div>
                <div class="couple-profile reveal groom-profile">
                    <div class="couple-profile-border"></div>
                    <div class="couple-photo-container">
                        <img class="preload-asset" src="img2.jpg" alt="The Groom - Gibran" onerror="this.onerror=null;this.src='https://placehold.co/800x1200/C0C0C0/333333?text=Gibran';">
                    </div>
                    <div class="couple-info">
                        <h2>Gibran Sansadewa Asshadiqi</h2>
                        <p class="parents">Bin <br> Agus Hariyanto & Silvy Madonna Liani</p>
                        <a href="#" class="instagram-link"><i class="fab fa-instagram"></i> @gibransansa</a>
                    </div>
                </div>
            </section>

            <!-- Event Details & Timeline -->
            <section id="details" class="container reveal parallax-el" data-parallax-speed="0.6">
                <div><br><br><br> put element here <br><br></div>
                <p class="preambule">Kami mengundang <b>Your Name Here</b> untuk hadir dalam acara pernikahan kami pada:</p>
                <div class="date">
                    <div class="centered-date">
                        <span class="date-day">Minggu</span>
                        <span class="date-main">07 September</span>
                        <span class="date-year">2025</span>
                    </div>
                    
                </div>
                <h1 id="gedung">Gedung Serbaguna Universitas Lambung Mangkurat</h1>
                <p id="kota-resepsi">Banjarbaru, Kalimantan Selatan</p>
                <div class="action-buttons" >
                    <a href="#" target="_blank" class="cta-button action-button" id="add-to-calendar-btn">Add to Calendar</a>
                    <a href="#" target="_blank" class="cta-button action-button" id="google-maps-btn">Google Maps</a>
                </div>
                <hr>
                <div class="timeline reveal" data-parallax-speed="0.15">
                    <div class="timeline-item right reveal"><div class="timeline-content"><h3>Resepsi</h3><p>9:00 - 13.00 WITA</p></div></div>
                    <div class="timeline-item left reveal"><div class="timeline-content"><h3>Akad</h3><p>9:00 - 12:00 WITA</p></div></div>
                </div>
                <p class="timeline-note reveal" data-parallax-speed="-0.1">kedatanganmu akan sangat berarti dalam awalan perjalanan kami</p>
                <div><br><br><br><br><br>put element here </div>
            
            </section>
            
            <!-- Gallery Section -->
            <section class="gallery-bg reveal">
                <h2 class="names">Our Memories & Moments</h2>
                <div class="gallery-scroller" id="gallery-scroller">
                    <!-- Images will be injected by JS -->
                </div>
            </section>

            <!-- RSVP Section -->
            <section class="dark-section reveal">
                <div class="container">
                    <h2>Wishes</h2>
                    <p>Leave your best wishes for the couple below.</p>
                    <div class="form-card">
                        <form id="wishes-form">
                            <div class="form-group"><label for="name">Name</label><input type="text" id="name" class="form-control" required></div>
                            <div class="form-group"><label for="wishes">Wishes</label><textarea id="wishes" class="form-control" rows="3" required></textarea></div>
                            <button type="submit" class="cta-button submit-button">Send Wish</button>
                        </form>
                    </div>
                </div>
            </section>
            
            <!-- Wishes Display Section -->
            <section class="dark-section reveal">
                <div class="container">
                    <h2>Your beautiful<br>WISHES</h2>
                    <div class="wishes-outer-container">
                        <div id="wishes-list" class="wishes-list">
                            <!-- Wishes will be populated by JS -->
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Gifting Section -->
            <section id="gift" class="container reveal">
                 <h2>Wedding Gift</h2>
                 <p>Your love is the greatest gift. Any contributions are graciously accepted.</p>
                 <div class="gift-box"><button id="send-gift-btn" class="cta-button">Send Gift</button></div>
                 <iframe class="youtube-embed" src="https://www.youtube.com/embed/g_v34a7g92A" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </section>
            
            <!-- Outro Section -->
            <section class="outro reveal">
                <div class="outro-text-content">
                    <p class="outro-date">07 . 09 . 2025</p>
                    <h2>See You<br>There</h2>
                    <p class="outro-thankyou">Thank you for your wishes and prayers.</p>
                </div>
                <img class="preload-asset" src="img3.png" alt="Couple final photo" class="outro-bg-image">
                <div class="outro-bg-overlay"></div>
            </section>
            
            <footer class="reveal"><p>Crafted with love</p></footer>
        </main>
    </div>
    
    <!-- Gift Modal -->
    <div id="giftModal" class="modal">
        <span class="close-button" id="close-gift">&times;</span>
        <div class="modal-content">
             <h3>Digital Wedding Gift</h3>
             <p>For your convenience, you may send a gift to the following account:</p><br>
             <p><strong>Bank Name:</strong> BCA</p>
             <p><strong>Account Number:</strong> 1234567890</p>
             <p><strong>On behalf of:</strong> Gibran & Diyang</p><br>
             <p>Thank you for your generosity!</p>
        </div>
    </div>

    <!-- Lightbox Modal for Gallery -->
    <div id="lightbox-modal">
        <span class="close-button">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
    </div>

    <!-- Wish Success Modal -->
    <div id="wish-success-modal" class="fixed inset-0 bg-black/50 z-[10000] hidden items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 text-center max-w-sm mx-auto">
            <h3 class="text-2xl font-serif mb-4 text-gray-800">Thank You!</h3>
            <p class="text-gray-600 mb-6">Your beautiful wish has been sent to the happy couple.</p>
            <button id="close-wish-modal" class="px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition">Close</button>
        </div>
    </div>


    <!-- Audio Control Button -->
        <button id="audio-control-btn" class="visible"><i class="fas fa-volume-high"></i></button>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const loader = document.getElementById('loader');
        const uncoverScreen = document.getElementById('uncover-screen');
        const startInvitationBtn = document.getElementById('start-invitation-btn');
        const pageWrapper = document.getElementById('page-wrapper');
        const heroScrollBtn = document.getElementById('hero-scroll-btn');
        const addToCalendarBtn = document.getElementById('add-to-calendar-btn');
        const googleMapsBtn = document.getElementById('google-maps-btn');
        const backgroundMusic = document.getElementById('background-music');
        const audioControlBtn = document.getElementById('audio-control-btn');
        // const heroVideo = document.getElementById('hero-video');
        // --- Loading Logic ---
        // window.onload = () => {
        //     loader.style.opacity = '0';
        //     setTimeout(() => {
        //         loader.style.display = 'none';
        //     }, 500);
        // };

        // --- Preload Assets ---
        const assets = document.querySelectorAll('.preload-asset');
        const assetPromises = Array.from(assets).map(asset => {
            if (asset.tagName === 'IMG') {
                return new Promise(resolve => {
                    if (asset.complete) resolve();
                    else asset.addEventListener('load', resolve, { once: true });
                });
            }
            if (asset.tagName === 'VIDEO') {
                return new Promise(resolve => {
                    if (asset.readyState >= 2) resolve();
                    else asset.addEventListener('loadeddata', resolve, { once: true });
                });
            }
            if (asset.tagName === 'AUDIO') {
                return new Promise(resolve => {
                    if (asset.readyState >= 3) resolve(); // HAVE_FUTURE_DATA
                    else asset.addEventListener('canplaythrough', resolve, { once: true });
                });
            }
            // Add more asset types if needed
            return Promise.resolve();
        });

        Promise.all(assetPromises).then(() => {
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);
        });
        

        // --- Set Calendar and Map button ---
        function setupActionLinks() {
            const eventDetails = {
                title: 'Wedding: Gibran & Diyang',
                date: '20250907T110000Z', // 7PM WITA (UTC+8) is 11:00 UTC
                endDate: '20250907T130000Z', // 9PM WITA (UTC+8) is 13:00 UTC
                location: 'Gedung Serbaguna ULM, Banjarbaru, South Kalimantan',
                description: 'Join us to celebrate the wedding of Gibran and Diyang!'
            };
            const calendarUrl = new URL('https://www.google.com/calendar/render');
            calendarUrl.searchParams.append('action', 'TEMPLATE');
            calendarUrl.searchParams.append('text', eventDetails.title);
            calendarUrl.searchParams.append('dates', `${eventDetails.date}/${eventDetails.endDate}`);
            calendarUrl.searchParams.append('details', eventDetails.description);
            calendarUrl.searchParams.append('location', eventDetails.location);
            addToCalendarBtn.href = calendarUrl.toString();

            const mapsUrl = 'https://maps.app.goo.gl/Dudvytv7svyQMzSdA';
            googleMapsBtn.href = mapsUrl;
        }

        // --- Uncover and Start Experience ---
        const uncoverContent = document.querySelector('.uncover-content');
        startInvitationBtn.addEventListener('click', () => {
            uncoverContent.classList.add('fading');
            setTimeout(() => {
                uncoverScreen.classList.add('uncovered');
                pageWrapper.style.pointerEvents = 'auto';
                pageWrapper.style.opacity = '1';
                setTimeout(() => {
                    uncoverScreen.style.display = 'none';
                    document.body.style.overflowY = 'auto';
                    backgroundMusic.currentTime = 20;
                    backgroundMusic.volume = 0;
                    backgroundMusic.play().then(() => {
                        let fade = setInterval(() => {
                            if (backgroundMusic.volume < 1) {
                                backgroundMusic.volume = Math.min(1, backgroundMusic.volume + 0.05);
                            } else {
                                clearInterval(fade);
                            }
                        }, 100);
                    }).catch(error => console.log("Audio autoplay prevented."));

                }, 1200);
            }, 300);
        });

        // --- Audio Control ---
        audioControlBtn.addEventListener('click', () => {
            backgroundMusic.muted = !backgroundMusic.muted;
            audioControlBtn.innerHTML = backgroundMusic.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-high"></i>';
        });

        // --- Hero Scroll Button ---
        heroScrollBtn.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('intro').scrollIntoView({ behavior: 'smooth' });
        });

        // --- Scroll Reveal Animations ---
        const revealElements = document.querySelectorAll('.reveal, .couple-photo-container');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        revealElements.forEach(el => revealObserver.observe(el));
        
        // --- Infinite Mosaic Carousel & Lightbox ---
        const galleryScroller = document.getElementById('gallery-scroller');
        const lightbox = document.getElementById('lightbox-modal');
        const lightboxImg = document.getElementById('lightbox-img');
        const closeLightboxBtn = lightbox.querySelector('.close-button');

        const galleryImages = [
            { thumb: 'gal1.jpg', full: 'gal1.jpg' },
            { thumb: 'gal2.jpg', full: 'gal2.jpg' },
            { thumb: 'gal3.jpg', full: 'gal3.jpg' },
            { thumb: 'gal4.jpg', full: 'gal4.jpg' },
            { thumb: 'img1.jpg', full: 'img1.jpg' },
            { thumb: 'img2.jpg', full: 'img2.jpg' },
            { thumb: 'img3.jpg', full: 'img3.jpg' }
        ];

        const createGalleryItem = (imgData) => {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            
            const img = document.createElement('img');
            img.src = imgData.thumb; 
            img.alt = 'Gallery photo';
            img.loading = 'lazy';
            
            img.addEventListener('click', () => {
                lightbox.style.display = 'block';
                lightboxImg.src = imgData.full;
            });
            
            item.appendChild(img);
            return item;
        };

        galleryImages.forEach(imgData => {
            galleryScroller.appendChild(createGalleryItem(imgData));
        });

        galleryImages.forEach(imgData => {
            galleryScroller.appendChild(createGalleryItem(imgData));
        });

        function closeLightbox() {
            lightbox.style.display = 'none';
        }

        closeLightboxBtn.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });


        // --- Wishes Form Handling ---
        const wishesForm = document.getElementById('wishes-form');
        const wishSuccessModal = document.getElementById('wish-success-modal');
        const closeWishModal = document.getElementById('close-wish-modal');
        
        wishesForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const wishes = document.getElementById('wishes').value;
            
            if (name && wishes) {
                addWish({ name, message: wishes });
                wishSuccessModal.style.display = 'flex';
            }
            wishesForm.reset();
        });

        closeWishModal.addEventListener('click', () => {
            wishSuccessModal.style.display = 'none';
        });

        // --- Dynamic Wishes List ---
        const dummyWishes = [
            { name: "Sarah", message: "Congratulations! Wishing you a lifetime of love and happiness. ❤️" },
            { name: "John Doe", message: "So happy for you both! Can't wait to celebrate with you." },
            { name: "Aunt Mary", message: "May your journey together be filled with joy, laughter, and endless love. Congratulations dear Diyang and Gibran!" },
            { name: "Mike & Jenny", message: "Best wishes on this wonderful journey, as you build your new lives together." }
        ];
        const wishesList = document.getElementById('wishes-list');
        function addWish(wish) {
            const card = document.createElement('div');
            card.className = 'wish-card';
            card.innerHTML = `<h4>${wish.name}</h4><p>${wish.message}</p>`;
            wishesList.prepend(card);
        }
        dummyWishes.forEach(addWish);

        // --- Couple Profile Reveal on Scroll ---
        function handleCoupleClipPath() {
            const profiles = document.querySelectorAll('.couple-profile');
            profiles.forEach(profile => {
                const rect = profile.getBoundingClientRect();
                const border = profile.querySelector('.couple-profile-border');
                const windowHeight = window.innerHeight;
                const revealStart = windowHeight * 0.4; 
                const revealEnd = 0;
                let progress = 0;
                if (rect.top > revealStart) {
                    progress = 0;
                } else if (rect.top <= revealEnd) {
                    progress = 1;
                } else {
                    progress = 1 - (rect.top - revealEnd) / (revealStart - revealEnd);
                }
                progress = Math.max(0, Math.min(1, progress));
                const inset = 30 - 30 * progress;
                const sideInset = 15 - 13 * progress;
                const borderRadius = 40 - 40 * progress;
                profile.style.clipPath = `inset(${inset}% ${sideInset}% ${inset}% ${sideInset}% round ${borderRadius}px)`;
                
                // if(border) {
                //     border.style.opacity = 1 - (progress * 1.5);
                // }
            });
        }
        window.addEventListener('scroll', handleCoupleClipPath);
        window.addEventListener('resize', handleCoupleClipPath);
        handleCoupleClipPath();

        // --- Gift Modal ---
        const giftModal = document.getElementById('giftModal');
        const sendGiftBtn = document.getElementById('send-gift-btn');
        const closeGiftBtn = document.getElementById('close-gift');
        sendGiftBtn.onclick = () => giftModal.style.display = 'block';
        closeGiftBtn.onclick = () => giftModal.style.display = 'none';
        window.onclick = (event) => {
            if (event.target == giftModal) {
                giftModal.style.display = 'none';
            }
        }
        
        // --- PARALLAX EFFECT LOGIC ---
        const heroVideo = document.querySelector('.hero-video');
        const heroContent = document.querySelector('.hero-content');
        const parallaxElements = document.querySelectorAll('.parallax-el');

        function handleParallax() {
            let scrollY = window.scrollY;

            // 1. Hero Section Parallax
            // Move video and content slower than the scroll speed
            if (heroVideo) {
                heroVideo.style.transform = `translate(-50%, calc(-50% + ${scrollY * 0.4}px)) scale(1.1)`;
            }
            if (heroContent) {
                 heroContent.style.transform = `translateY(${scrollY * 0.5}px)`;
            }

            // 2. Details Section Parallax
            parallaxElements.forEach(el => {
                const speed = parseFloat(el.dataset.parallaxSpeed) || 0.1;
                const rect = el.getBoundingClientRect();
                const elementTop = rect.top + scrollY;
                const windowHeight = window.innerHeight;

                // Check if the element is in the viewport
                if (rect.top < windowHeight && rect.bottom > 0) {
                    // Calculate the transform based on the element's position relative to the center of the viewport
                    const transformY = (rect.top - windowHeight / 3) * speed;
                    el.style.transform = `translateY(${transformY}px)`;
                }
            });
        }

        // Attach the parallax handler to the scroll event
        window.addEventListener('scroll', handleParallax, { passive: true });
        // Initial call to set positions
        handleParallax();


        // --- Initialize Action Links ---
        setupActionLinks();

        
    });
    </script>
</body>
</html>
